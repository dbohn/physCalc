{"version":3,"sources":["index.coffee"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"/source/","sourcesContent":["parser = require('./parser')\nparsertools = require('./parsertools')\n# jquery = require('../bower_components/jquery/dist/jquery')\n\nform = document.querySelector('form[name=calculator_input]')\nresultContainer = document.querySelector('.result_container')\nerrorContainer = document.querySelector('.error_container')\nresult = resultContainer.querySelector('.result')\nerrorElem = errorContainer.querySelector('.error')\nerrorInfo = errorContainer.querySelector('.infotext')\nmedian = result.querySelector('.median')\nradius = result.querySelector('.radius')\nrelError = result.querySelector('.rel_error')\n\nform.addEventListener('submit', (ev) ->\n\tev.preventDefault()\n\tquery = form[0].value.trim()\n\tif query is '' then return\n\ttry\n\t\tresError = parser.parse(query)\n\t\tresError = parsertools.convVal(resError)\n\t\tresultContainer.classList.remove('hide')\n\t\tform.classList.add('has-success')\n\t\tmedian.innerHTML = resError.getMedian()\n\t\tradius.innerHTML = resError.getRadius()\n\t\trelError.innerHTML = resError.relativeError()\n\tcatch err\n\t\tconsole.log(err)\n\t\tif err instanceof parser.SyntaxError\n\t\t\tdesc = 'Es wurde ' + connectList(err.expected) + ' erwartet. Gefunden wurde aber ' + convertFound(err.found) + '.'\n\t\t\terror('Der Ausdruck enthÃ¤lt einen syntaktische Fehler an Position ' + err.column + '!', desc)\n\t\telse if err == 'Exponent must not have error'\n\t\t\terror('Der absolute Fehler des Exponenten muss 0 sein!')\n\t\telse\n\t\t\terror('Ein unbekannter Fehler ist aufgetreten!')\n)\n\nform[0].addEventListener('change', (ev) ->\n\tform.classList.remove('has-error')\n\tform.classList.remove('has-success')\n\terrorContainer.classList.add('hide')\n\tresultContainer.classList.add('hide')\n)\n\nconvertFound = (found) ->\n\tif found == null then 'nichts' else '\"' + found + '\"'\n\nconnectList = (list) ->\n\tif (list.length == 1) then return stringifyItem(list[0])\n\tlist.slice(0, list.length - 1).map(stringifyItem).join(\", \") + ' oder ' + stringifyItem(list[list.length - 1])\n\nstringifyItem = (item) ->\n\tif item.type == 'end' then 'das Eingabeende' else item.description\n\nerror = (msg) ->\n\tform.classList.add('has-error')\n\tform.classList.remove('has-success')\n\terrorContainer.classList.remove('hide')\n\terrorElem.innerHTML = msg\n\terrorInfo.innerHTML = ''\n\tif arguments.length == 2\n\t\terrorInfo.innerHTML = arguments[1]"]}