{"version":3,"sources":["index.coffee"],"names":[],"mappings":"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","file":"index.js","sourceRoot":"/source/","sourcesContent":["parser = require('./parser')\nparsertools = require('./parsertools')\n# jquery = require('../bower_components/jquery/dist/jquery')\n\nform = document.querySelector('form[name=calculator_input]')\nresultContainer = document.querySelector('.result_container')\nerrorContainer = document.querySelector('.error_container')\nresult = resultContainer.querySelector('.result')\nerrorElem = errorContainer.querySelector('.error')\nerrorInfo = errorContainer.querySelector('.infotext')\nmedian = result.querySelector('.median')\nradius = result.querySelector('.radius')\nrelError = result.querySelector('.rel_error')\n\nform.addEventListener('submit', (ev) ->\n\tev.preventDefault()\n\tquery = form[0].value.trim()\n\tif query is '' then return\n\ttry\n\t\tresError = parser.parse(query)\n\t\tresError = parsertools.convVal(resError)\n\t\tresultContainer.classList.remove('hide')\n\t\tform.classList.add('has-success')\n\t\tmedian.innerHTML = resError.getMedian()\n\t\tradius.innerHTML = resError.getRadius()\n\t\trelError.innerHTML = resError.relativeError()\n\tcatch err\n\t\tconsole.log(err)\n\t\tif err instanceof parser.SyntaxError\n\t\t\tdesc = 'Es wurde ' + connectList(err.expected) + ' erwartet. Gefunden wurde aber ' + convertFound(err.found) + '.'\n\t\t\terror('Der Ausdruck enthÃ¤lt einen syntaktische Fehler an Position ' + err.column + '!', desc)\n\t\telse if err == 'Exponent must not have error'\n\t\t\terror('Der absolute Fehler des Exponenten muss 0 sein!')\n\t\telse\n\t\t\terror('Ein unbekannter Fehler ist aufgetreten!')\n)\n\nform[0].addEventListener('change', (ev) ->\n\tform.classList.remove('has-error')\n\tform.classList.remove('has-success')\n\terrorContainer.classList.add('hide')\n\tresultContainer.classList.add('hide')\n)\n\nconvertFound = (found) ->\n\tif found == null then 'nichts' else '\"' + found + '\"'\n\nconnectList = (list) ->\n\tif (list.length == 1) then return stringifyItem(list[0])\n\tlist.slice(0, list.length - 1).map(stringifyItem).join(\", \") + ' oder ' + stringifyItem(list[list.length - 1])\n\nstringifyItem = (item) ->\n\tif item.type == 'end' then 'das Eingabeende' else item.description\n\nerror = (msg) ->\n\tform.classList.add('has-error')\n\tform.classList.remove('has-success')\n\terrorContainer.classList.remove('hide')\n\terrorElem.innerHTML = msg\n\terrorInfo.innerHTML = ''\n\tif arguments.length == 2\n\t\terrorInfo.innerHTML = arguments[1]"]}