(function(){var e,r,n,t,s,i,a,o,u,c,l,d,h,m,L;u=require("./parser"),c=require("./parsertools"),a=document.querySelector("form[name=calculator_input]"),m=document.querySelector(".result_container"),t=document.querySelector(".error_container"),h=m.querySelector(".result"),s=t.querySelector(".error"),i=t.querySelector(".infotext"),o=h.querySelector(".median"),l=h.querySelector(".radius"),d=h.querySelector(".rel_error"),a.addEventListener("submit",function(t){var s,i,h,L;if(t.preventDefault(),h=a[0].value.trim(),""!==h)try{return L=u.parse(h),L=c.convVal(L),m.classList.remove("hide"),a.classList.add("has-success"),o.innerHTML=L.getMedian(),l.innerHTML=L.getRadius(),d.innerHTML=L.relativeError()}catch(f){return i=f,console.log(i),i instanceof u.SyntaxError?(s="Es wurde "+e(i.expected)+" erwartet. Gefunden wurde aber "+r(i.found)+".",n("Der Ausdruck enth√§lt einen syntaktische Fehler an Position "+i.column+"!",s)):n("Exponent must not have error"===i?"Der absolute Fehler des Exponenten muss 0 sein!":"Ein unbekannter Fehler ist aufgetreten!")}}),a[0].addEventListener("change",function(e){return a.classList.remove("has-error"),a.classList.remove("has-success"),t.classList.add("hide"),m.classList.add("hide")}),r=function(e){return null===e?"nichts":'"'+e+'"'},e=function(e){return 1===e.length?L(e[0]):e.slice(0,e.length-1).map(L).join(", ")+" oder "+L(e[e.length-1])},L=function(e){return"end"===e.type?"das Eingabeende":e.description},n=function(e){return a.classList.add("has-error"),a.classList.remove("has-success"),t.classList.remove("hide"),s.innerHTML=e,i.innerHTML="",2===arguments.length?i.innerHTML=arguments[1]:void 0}}).call(this);